/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
plugins {
    id 'java'
    id "application"
    id 'idea'
    id 'org.cadixdev.licenser' version '0.5.0'
    id 'com.github.johnrengelman.shadow' version '5.2.0'
}

mainClassName = "com.oroarmor.discordbot.DiscordBot"

run {
    main = "com.oroarmor.discordbot.DiscordBot"
}

startScripts {
    mainClassName("com.oroarmor.discordbot.DiscordBot")
}

task stage(dependsOn: ['build', 'clean'])
build.mustRunAfter clean

dependencies {
    shadow(implementation('net.dv8tion:JDA:4.2.1_260') {
        exclude module: 'opus-java'
    })
    shadow(implementation('com.fasterxml.jackson.core:jackson-databind:2.12.3'))
    shadow(implementation('com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.12.3'))
}



repositories {
    mavenCentral()
    maven {
        name 'm2-dv8tion'
        url 'https://m2.dv8tion.net/releases'
    }
}
